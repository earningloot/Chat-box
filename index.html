<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luck Game</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background: linear-gradient(135deg, #1f1c2c, #928dab); color: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; }
        .container { background: rgba(0, 0, 0, 0.9); padding: 30px; border-radius: 15px; box-shadow: 0 0 30px rgba(255, 255, 255, 0.2); width: 500px; text-align: center; }
        h1 { font-size: 32px; color: #00e676; animation: glow 1s infinite alternate; }
        @keyframes glow { from { text-shadow: 0 0 10px #00e676; } to { text-shadow: 0 0 20px #00ff99; } }
        #walletBalance { font-size: 20px; margin: 10px 0; }
        input[type="number"] { padding: 10px; width: 150px; border-radius: 5px; margin-bottom: 10px; border: 2px solid #00e676; background: transparent; color: #fff; font-size: 16px; }
        input[type="number"]::placeholder { color: #aaa; }
        button { width: 120px; padding: 10px; margin: 10px; font-size: 18px; font-weight: bold; border-radius: 10px; cursor: pointer; transition: 0.3s ease; }
        button:hover { transform: scale(1.1); }
        .btn-red { background-color: #e74c3c; color: #fff; }
        .btn-green { background-color: #2ecc71; color: #fff; }
        .btn-blue { background-color: #3498db; color: #fff; }
        .btn-deposit { background-color: #f1c40f; color: #000; }
        #timer { font-size: 22px; margin-top: 10px; }
        #resultBanner, #placedBet { margin-top: 20px; padding: 10px; font-size: 18px; border-radius: 10px; }
        .win { background-color: gold; color: black; animation: glowWin 1s infinite alternate; }
        .lose { background-color: #7f8c8d; color: white; }
        @keyframes glowWin { from { box-shadow: 0 0 10px gold; } to { box-shadow: 0 0 20px yellow; } }
        #history { margin-top: 20px; max-height: 200px; overflow-y: auto; text-align: left; background-color: rgba(255, 255, 255, 0.1); padding: 10px; border-radius: 10px; }
    </style>
</head>
<body>
<div class="container">
    <h1>üí∏Color Treadingüí∏</h1>
    <div id="walletBalance">üí∞ Wallet: ‚Çπ<span id="balance">99</span></div>
    <button class="btn-deposit" onclick="deposit()">Deposit</button>
    <p>üí∏ Enter Bet Amount:</p>
    <input type="number" id="betAmount" placeholder="Bet Amount">
    <p>üé® Choose a Color:</p>
    <button class="btn-red" onclick="placeBet('red')">Red üî¥</button>
    <button class="btn-green" onclick="placeBet('green')">Green üü¢</button>
    <button class="btn-blue" onclick="placeBet('blue')">Blue üîµ</button>
    <div id="timer">‚è≥ Time Left: <span id="timeLeft">60</span>s | Period: <span id="period">1</span></div>
    <div id="placedBet"></div>
    <div id="resultBanner"></div>
    <h3>üìú Last 10 Results</h3>
    <div id="history"></div>
</div>
<script>
    let userBet = null, betAmount = 0, balance = 99;
    let resultsHistory = [];

    // Dummy server-side logic (replace with actual backend)
    let serverTimer = 60;
    let serverPeriod = 1;
    let serverResults = [];

    // Fetch server data (dummy implementation)
    function fetchServerData() {
        return {
            timer: serverTimer,
            period: serverPeriod,
            results: serverResults.slice(-10) // Last 10 results
        };
    }

    // Update UI with server data
    function updateUI() {
        const serverData = fetchServerData();
        document.getElementById('timeLeft').innerText = serverData.timer;
        document.getElementById('period').innerText = serverData.period;
        document.getElementById('history').innerHTML = serverData.results.map(result => `<div>${result}</div>`).join('');
    }

    // Simulate server-side timer and result generation
    setInterval(() => {
        serverTimer--;
        if (serverTimer === 0) {
            const colors = ['red', 'green', 'blue'];
            const resultColor = colors[Math.floor(Math.random() * colors.length)];
            serverResults.unshift(`Period ${serverPeriod}: Result - ${resultColor === 'red' ? 'üî¥ Red' : resultColor === 'green' ? 'üü¢ Green' : 'üîµ Blue'}`);
            if (serverResults.length > 10) {
                serverResults.pop();
            }
            serverTimer = 60;
            serverPeriod++;
        }
    }, 1000);

    // Update UI every second
    setInterval(updateUI, 1000);

    function deposit() {
        let amount = parseInt(prompt("Enter amount to deposit:"));
        if (isNaN(amount) || amount <= 0) {
            alert("Invalid amount! Please enter a positive number.");
            return;
        }
        balance += amount;
        updateWallet();
    }

    function placeBet(color) {
        betAmount = parseInt(document.getElementById('betAmount').value);
        if (isNaN(betAmount) || betAmount <= 0) {
            alert("Please enter a valid bet amount!");
            return;
        }
        if (betAmount > balance) {
            alert("Insufficient balance!");
            return;
        }
        userBet = color;
        balance -= betAmount;
        updateWallet();
        document.getElementById('betAmount').value = "";
        document.getElementById('placedBet').innerText = `üìù You placed bet on ${color === 'red' ? 'üî¥ Red' : color === 'green' ? 'üü¢ Green' : 'üîµ Blue'}`;
    }

    function updateWallet() {
        document.getElementById('balance').innerText = balance;
    }

    // Check result when timer reaches 0
    setInterval(() => {
        const serverData = fetchServerData();
        if (serverData.timer === 60) { // Timer just reset
            const lastResult = serverData.results[0];
            if (lastResult) {
                const resultColor = lastResult.includes('üî¥') ? 'red' : lastResult.includes('üü¢') ? 'green' : 'blue';
                if (userBet === resultColor) {
                    const winningAmount = betAmount * 1.98;
                    balance += winningAmount;
                    showResult(`üíµ Congratulations! You Won ‚Çπ${winningAmount.toFixed(2)}!`, 'win');
                } else {
                    showResult("‚ùåÔ∏è Sorry! You Lost.", 'lose');
                }
                userBet = null;
                document.getElementById('placedBet').innerText = "";
            }
        }
    }, 1000);

    function showResult(message, resultClass) {
        const resultBanner = document.getElementById('resultBanner');
        resultBanner.innerText = message;
        resultBanner.className = resultClass;
        setTimeout(() => resultBanner.innerText = "", 3000);
    }
</script>
</body>
</html>
